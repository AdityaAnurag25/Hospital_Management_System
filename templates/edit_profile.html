{% extends 'layout.html' %}

{% block content %}
    <h2 align = 'center' class="display-5 fw-medium">
        <p class="text-primary-emphasis"> Edit Profile</p>
    </h2>

    <form action="" method="post" class="my-form">
        <div class="form-group">
            <label for = "username" class ="form-label">Username</label>
            <input type = "text" name = "username" value = "{{user.username}}" required class = "form-control">
        </div>

        <div class="form-group">
            <label for = "name" class ="form-label">Name</label>
            <input type = "text" name = "name" value = "{{user.name}}" required class = "form-control">
        </div>

        <div class="form-group">
            <label for = "address" class ="form-label">Address</label>
            <input type = "text" name = "address" value = "{{user.address}}" required class = "form-control">
        </div>

        <div class="form-group">
            <label for ="contact" class = "form-label">Contact</label>
            <input type="text" name = "contact" value = "{{user.contact}}" required class = "form-control">
        </div><br>
        
            {% if role == 'doctor' %}
                <div class="form-group">
                    <label for ="contact" class = "form-label" >Department</label>
                        <select name = "department_id" id = "department_id" class="form-control" required {% if session['role'] !="admin" %} disabled {% endif %}>
                            {% for department in departments %}
                                {% if department.id == user.department.id %}
                                    <option selected value="{{department.id}}">{{department.name}}</option>    
                                {% else %}
                                    <option value="{{department.id}}">{{department.name}}</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                </div><br>

                <div class="form-group">
                    <label for ="description" class = "form-label">Description</label>
                    <input type="text" name = "description" value = "{{user.description}}"required class = "form-control">
                </div><br>
            {% endif %}

        <div class="form-group">
            <input type = "submit" value = "Submit" class="btn btn-primary">
        </div>
    </form>
{% endblock %}